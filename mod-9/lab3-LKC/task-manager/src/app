import { useState, useEffect } from 'react'

function App() {
  const [recipes, setRecipes] = useState([]);


  // fetch recipes
  // useEffect(() => {}, []);

  // Runs on every render 
useEffect(() => {
  const socket = new WebSocket('https://dummyjson.com/recipes');
 
  socket.onopen = () => console.log('WebSocket Connected');
  socket.onmessage = (event) => console.log('Message received:', event.data);
  socket.onclose = () => console.log('WebSocket Disconnected');
  socket.onerror = (error) => console.error('WebSocket Error:', error);

return () => {
    if (socket.readyState === WebSocket.OPEN || socket.readyState === WebSocket.CONNECTING) {
      console.log('Closing WebSocket connection...');
      socket.close();
    }
  };
}, [url]);

}

export default App